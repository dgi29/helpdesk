<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ•¸ä½å®¢æœ</title>
  <style>
    :root { --bg:#f5f7fb; --card:#ffffff; --text:#1f2937; --muted:#6b7280; --brand:#2563eb; --line:#e5e7eb; }
    body { margin:0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif; background:var(--bg); color:var(--text); }
    .wrap { max-width: 720px; margin: 0 auto; padding: 16px; }
    .header { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 14px; background:var(--card); border:1px solid var(--line); border-radius:14px; }
    .header h1 { margin:0; font-size:16px; font-weight:700; }
    .header .sub { font-size:12px; color:var(--muted); }
    .btn { border:1px solid var(--line); background:#fff; color:var(--text); border-radius:999px; padding:8px 12px; cursor:pointer; font-size:12px; }
    .btn.primary { background:var(--brand); color:#fff; border-color:transparent; }
    .panel { margin-top:12px; background:var(--card); border:1px solid var(--line); border-radius:14px; overflow:hidden; }
    .quick { display:flex; flex-wrap:wrap; gap:8px; padding:12px; border-bottom:1px solid var(--line); background:#fbfdff; }
    .chat { padding: 12px; height: 52vh; overflow:auto; }
    .msg { display:flex; margin:10px 0; gap:10px; }
    .msg.user { justify-content:flex-end; }
    .bubble { max-width: 85%; padding:10px 12px; border-radius:14px; border:1px solid var(--line); background:#fff; font-size:14px; line-height:1.45; white-space:pre-wrap; }
    .msg.user .bubble { background:#eaf2ff; border-color:#cfe0ff; }
    .meta { font-size:11px; color:var(--muted); margin-top:4px; }
    .inputbar { display:flex; gap:10px; padding:12px; border-top:1px solid var(--line); background:#fff; }
    input { flex:1; border:1px solid var(--line); border-radius:12px; padding:12px; font-size:14px; outline:none; }
    .send { padding:12px 14px; border-radius:12px; border:0; background:var(--brand); color:#fff; cursor:pointer; font-weight:700; }
    a { color: var(--brand); text-decoration:none; }
    a:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div>
        <h1>æ•¸ä½å®¢æœ</h1>
        <div class="sub">å›ºå®šæ•™å­¸ + é—œéµå­—å›è¦†ï¼ˆåˆè¦ç‰ˆ / ä¸æä¾›ç ´è§£å…§å®¹ï¼‰</div>
      </div>
      <button class="btn" id="resetBtn">é‡æ–°å°è©±</button>
    </div>

    <div class="panel">
      <div class="quick" id="quickBtns"></div>
      <div class="chat" id="chat"></div>
      <div class="inputbar">
        <input id="input" placeholder="è«‹è¼¸å…¥å•é¡Œï¼ˆä¾‹ï¼šä¿å›ºã€æœƒå“¡ã€æ­Œåº«ã€æ“ä½œæ•™å­¸ã€HDMIã€éº¥å…‹é¢¨ï¼‰" />
        <button class="send" id="sendBtn">é€å‡º</button>
      </div>
    </div>
  </div>

<script>
/** ============================
 *  ä½ åªéœ€è¦æ”¹é€™ä¸€å€ï¼šå…§å®¹èˆ‡é€£çµ
 *  ============================ */

// 1) å¿«æ·æŒ‰éˆ•ï¼ˆä½ æƒ³è¦çš„å›ºå®šå•é¡Œï¼‰
const QUICK = [
  { key: "warranty", label: "å•Ÿå‹•ä¿å›º" },
  { key: "member",   label: "é–‹é€šæœƒå“¡" },
  { key: "library",  label: "é–‹é€šæ­Œåº«" },
  { key: "howto",    label: "ç”¢å“æ“ä½œæ•™å­¸" },
  { key: "hdmi",     label: "HDMI æ²’ç•«é¢" },
  { key: "mic",      label: "éº¥å…‹é¢¨æ²’è²éŸ³" },
  { key: "youtube",  label: "YouTube ç„¡æ³•æ’­æ”¾" },
  { key: "contact",  label: "è¯ç¹«æ–¹å¼" },
];

// 2) å›ºå®šå›è¦†å…§å®¹ï¼ˆåˆè¦ï¼šåªå¯«å®˜æ–¹/æˆæ¬Šæµç¨‹ã€æ“ä½œæ•™å­¸ã€æ•…éšœæ’é™¤ï¼‰
const ANSWERS = {
  welcome:
`ä½ å¥½ï¼Œæˆ‘æ˜¯æ•¸ä½å®¢æœï¼ˆå›ºå®šæ•™å­¸ï¼‹é—œéµå­—å›è¦†ï¼‰ã€‚
ä½ å¯ä»¥ï¼š
1) ç›´æ¥é»ä¸Šæ–¹å¿«æ·æŒ‰éˆ•
2) æˆ–è¼¸å…¥é—œéµå­—ï¼ˆä¾‹ï¼šä¿å›ºã€æœƒå“¡ã€æ­Œåº«ã€æ“ä½œã€HDMIã€éº¥å…‹é¢¨ã€YouTubeï¼‰

æé†’ï¼šæœ¬é åƒ…æä¾›ã€Œæ“ä½œæ•™å­¸ / æ•…éšœæ’é™¤ / æˆæ¬Šèˆ‡å®˜æ–¹æ¸ é“ç”³è«‹æµç¨‹ã€è³‡è¨Šã€‚`,

  warranty:
`ã€å•Ÿå‹•ä¿å›ºï½œæµç¨‹ã€‘
1) æº–å‚™ï¼šç”¢å“å‹è™Ÿã€S/N åºè™Ÿã€è³¼è²·è­‰æ˜ï¼ˆæˆ–è³¼è²·æ—¥æœŸï¼‰
2) ä¾ã€Œå®˜æ–¹/æˆæ¬Šæ¸ é“ã€æŒ‡ç¤ºå®Œæˆç™»éŒ„ï¼ˆè‹¥ä½ æœ‰ç™»éŒ„é å¯æ”¾é€£çµï¼‰
3) å®Œæˆå¾Œä¿ç•™ç™»éŒ„æˆåŠŸç•«é¢æˆ–é€šçŸ¥

âœ… å»ºè­°ä½ å…ˆæº–å‚™ï¼šS/N åºè™Ÿç…§ç‰‡ï¼ˆæ©Ÿèº«æ¨™ç±¤ï¼‰
ï¼ˆç™»éŒ„é€£çµï¼šå¡«ä½ è‡ªå·±çš„é€£çµï¼‰
`,

  member:
`ã€é–‹é€šæœƒå“¡ï½œåˆè¦æµç¨‹ã€‘
1) å…ˆç¢ºèªï¼šè¨­å‚™å·²é€£ç¶²ï¼ˆWi-Fi/ç¶²è·¯ç·šï¼‰
2) æº–å‚™ï¼šS/N åºè™Ÿã€æœƒå“¡è³‡æ–™ï¼ˆä¾å®˜æ–¹è¦å®šï¼‰
3) ä¾å®˜æ–¹/æˆæ¬Šæ¸ é“é é¢æäº¤ç”³è«‹

è‹¥ä½ ä¸ç¢ºå®šè¦å¡«ä»€éº¼ï¼šè«‹å›è¦†ã€Œæœƒå“¡ + ä½ çš„è¨­å‚™å‹è™Ÿã€ï¼Œæˆ‘æœƒæç¤ºä½ éœ€è¦æº–å‚™å“ªäº›è³‡æ–™ã€‚
ï¼ˆç”³è«‹é /èªªæ˜é ï¼šå¡«é€£çµï¼‰
`,

  library:
`ã€é–‹é€šæ­Œåº«ï½œåˆè¦èªªæ˜ã€‘
æœ¬æ©Ÿç‚ºã€Œç´”æ·¨ç‰ˆã€å‡ºè²¨ï¼Œæœªé è¼‰ä»»ä½•å…§å®¹ã€‚
å¦‚éœ€ä½¿ç”¨å…§å®¹/æ­Œåº«ï¼Œè«‹ä¾ã€Œå®˜æ–¹æˆ–æˆæ¬ŠæœåŠ¡ã€æä¾›çš„ç”³è«‹æ–¹å¼é–‹é€šèˆ‡ä¸‹è¼‰ã€‚

ä½ å¯ä»¥ï¼š
1) å…ˆç¢ºèªè¨­å‚™å·²é€£ç¶²
2) æº–å‚™ S/N åºè™Ÿ
3) ä¾å®˜æ–¹/æˆæ¬Šæ¸ é“å®Œæˆç”³è«‹

ï¼ˆå®˜æ–¹èªªæ˜/ç”³è«‹å…¥å£ï¼šå¡«é€£çµï¼‰
`,

  howto:
`ã€ç”¢å“æ“ä½œæ•™å­¸ã€‘
ä½ å¯ä»¥å…ˆé¸æ“‡ä½ è¦å­¸çš„ä¸»é¡Œï¼š
- é€£æ¥æ–¹å¼ï¼ˆé›»è¦–/éŸ³éŸ¿ï¼‰
- é»æ­Œ/æ“ä½œä»‹é¢
- USB åŠ æ­Œï¼ˆè‹¥ä½ è¦æä¾›ï¼‰
- å¸¸è¦‹è¨­å®šï¼ˆéŸ³é‡ã€è¼¸å‡ºæ¨¡å¼ï¼‰

ğŸ‘‰ ç›´æ¥è¼¸å…¥ã€Œæ“ä½œ + ä½ è¦çš„ä¸»é¡Œã€ï¼Œ
ä¾‹å¦‚ï¼šæ“ä½œ é€£æ¥éŸ³éŸ¿ / æ“ä½œ USBåŠ æ­Œ
ï¼ˆæ•™å­¸å½±ç‰‡ï¼šå¡«é€£çµï¼‰
`,

  hdmi:
`ã€HDMI æ²’ç•«é¢ï½œå¿«é€Ÿæ’æŸ¥ã€‘
1) ç¢ºèªé›»è¦–è¨Šè™Ÿæºå·²åˆ‡åˆ°æ­£ç¢º HDMI
2) æ‹”æ’ HDMI ç·šï¼ˆå…©ç«¯éƒ½é‡æ’ï¼‰
3) æ›´æ› HDMI ç·šæ¸¬è©¦ï¼ˆæ’é™¤ç·šææ•…éšœï¼‰
4) è‹¥ã€Œæœ‰è²éŸ³æ²’ç•«é¢ã€ï¼šå¤šåŠæ˜¯è¨Šè™Ÿæº/ç·šæ/å­”ä½å•é¡Œ

ä»æœªè§£æ±ºï¼šè«‹å›è¦†ã€ŒHDMI + é›»è¦–å“ç‰Œå‹è™Ÿ + æœ‰æ²’æœ‰è²éŸ³ + ä½ æ¥å“ªå€‹HDMIå­”ã€ï¼Œæˆ–æ”¹ç”¨è¯ç¹«æ–¹å¼ã€‚
`,

  mic:
`ã€éº¥å…‹é¢¨æ²’è²éŸ³ï½œå¸¸è¦‹åŸå› ã€‘
1) å…ˆç¢ºèªï¼šä½ æœ‰æ²’æœ‰ã€Œæ¥éŸ³éŸ¿/æ“´å¤§æ©Ÿã€ï¼Ÿ
2) è‹¥ä½¿ç”¨è—ç‰™å–‡å­ï¼šéƒ¨åˆ†æ©Ÿå‹éº¥å…‹é¢¨å¯èƒ½ä¸ç¶“æ“´å¤§æ©Ÿè€Œç„¡è²ï¼ˆéœ€ç”¨ 3.5mm/AUX/ç´…ç™½ç·šç­‰æœ‰ç·šè¼¸å‡ºï¼‰
3) ç¢ºèªæ¥æ”¶å™¨/éŸ³æºç·šæ˜¯å¦æ’ç‰¢ã€éŸ³é‡æ˜¯å¦éä½

è«‹å›è¦†ï¼šä½ çš„å‹è™Ÿ + ä½ æ˜¯ã€Œè—ç‰™ã€æˆ–ã€Œæœ‰ç·šã€é€£æ¥ï¼Œæˆ‘å†çµ¦ä½ å°æ‡‰æ­¥é©Ÿã€‚
`,

  youtube:
`ã€YouTube ç„¡æ³•æ’­æ”¾ï½œå»ºè­°è™•ç†ã€‘
1) å…ˆç¢ºèªç¶²è·¯æ­£å¸¸ï¼ˆå¯æ”¹ç”¨æ‰‹æ©Ÿç†±é»æ¸¬è©¦ï¼‰
2) é‡é–‹æ©Ÿå¾Œå†è©¦ä¸€æ¬¡
3) è‹¥å‡ºç¾éŒ¯èª¤ç¢¼ï¼šè«‹æŠŠã€ŒéŒ¯èª¤ç¢¼æˆªåœ–/æ–‡å­—ã€è²¼ä¸Šä¾†ï¼ˆä¾‹ï¼š152-15ï¼‰

ï¼ˆä½ ä¹Ÿå¯ä»¥æ”¾ä½ è‡ªå·±çš„æ•™å­¸é ï¼šå¡«é€£çµï¼‰
`,

  contact:
`ã€è¯ç¹«æ–¹å¼ã€‘
è‹¥ä½ éœ€è¦çœŸäººå”åŠ©ï¼Œè«‹æº–å‚™ï¼š
- å‹è™Ÿã€S/Nã€å•é¡Œæè¿°ã€ç…§ç‰‡/å½±ç‰‡

ğŸ‘‰ å®˜æ–¹Lineï¼šå¡«ä½ çš„Lineé€£çµï¼ˆä¾‹å¦‚ï¼šhttps://lin.ee/xxxxï¼‰
ğŸ‘‰ è¡¨å–®ç•™è¨€ï¼šå¡«ä½ çš„è¡¨å–®é€£çµ
ğŸ‘‰ å®¢æœä¿¡ç®±ï¼šå¡«ä½ çš„Emailï¼ˆå»ºè­°ç”¨è¡¨å–®ï¼Œä¸è¦ç›´æ¥æš´éœ²Emailä¹Ÿè¡Œï¼‰
`,
};

// 3) é—œéµå­—è¦å‰‡ï¼ˆè¶Šç°¡å–®è¶Šç©©ï¼‰
const RULES = [
  { keywords: ["ä¿å›º", "å•Ÿå‹•", "ç™»éŒ„", "è¨»å†Šä¿å›º"], answerKey: "warranty" },
  { keywords: ["æœƒå“¡", "çºŒç´„", "åˆ°æœŸ", "æœƒå“¡é–‹é€š"], answerKey: "member" },
  { keywords: ["æ­Œåº«", "æ›²åº«", "å…§å®¹", "é–‹é€šæ­Œåº«", "ä¸‹è¼‰æ­Œæ›²"], answerKey: "library" },
  { keywords: ["æ“ä½œ", "æ•™å­¸", "æ€éº¼ç”¨", "æ–°æ‰‹", "è¨­å®š"], answerKey: "howto" },
  { keywords: ["hdmi", "æ²’ç•«é¢", "é»‘å±", "ç¶ å±", "æœ‰è²éŸ³æ²’ç•«é¢"], answerKey: "hdmi" },
  { keywords: ["éº¥å…‹é¢¨", "mic", "æ²’è²éŸ³", "ç„¡è²"], answerKey: "mic" },
  { keywords: ["youtube", "ä¸èƒ½æ’­æ”¾", "ç„¡æ³•æ’­æ”¾", "152-15"], answerKey: "youtube" },
  { keywords: ["è¯ç¹«", "çœŸäºº", "å®¢æœ", "line", "é›»è©±", "ä¿¡ç®±", "è¡¨å–®"], answerKey: "contact" },
];

/** ============================
 *  ä¸‹é¢ä¸å¤ªéœ€è¦æ”¹ï¼šä»‹é¢èˆ‡é‚è¼¯
 *  ============================ */

const chatEl = document.getElementById("chat");
const inputEl = document.getElementById("input");
const sendBtn = document.getElementById("sendBtn");
const resetBtn = document.getElementById("resetBtn");
const quickBtnsEl = document.getElementById("quickBtns");

function nowTime() {
  const d = new Date();
  return d.toLocaleString("zh-TW", { hour:"2-digit", minute:"2-digit" });
}

function addMsg(role, text) {
  const msg = document.createElement("div");
  msg.className = `msg ${role}`;
  const bubble = document.createElement("div");
  bubble.className = "bubble";
  bubble.innerHTML = linkify(text);
  const meta = document.createElement("div");
  meta.className = "meta";
  meta.textContent = nowTime();
  const wrap = document.createElement("div");
  wrap.appendChild(bubble);
  wrap.appendChild(meta);
  msg.appendChild(wrap);
  chatEl.appendChild(msg);
  chatEl.scrollTop = chatEl.scrollHeight;
}

function linkify(text) {
  // very simple linkify
  const urlRegex = /(https?:\/\/[^\s]+)/g;
  return text.replace(urlRegex, (url) => `<a href="${url}" target="_blank" rel="noopener noreferrer">${url}</a>`);
}

function detectAnswer(userText) {
  const t = (userText || "").trim().toLowerCase();
  for (const r of RULES) {
    for (const k of r.keywords) {
      if (t.includes(k.toLowerCase())) return r.answerKey;
    }
  }
  return null;
}

function botReplyByKey(key) {
  const text = ANSWERS[key] || `æˆ‘é€™é¡Œç›®å‰æ²’æœ‰å°æ‡‰çš„å›ºå®šæ•™å­¸ã€‚\nä½ å¯ä»¥é»ä¸Šæ–¹å¿«æ·æŒ‰éˆ•ï¼Œæˆ–æ›å€‹æ–¹å¼å•ï¼šä¾‹å¦‚ã€Œæœƒå“¡ é–‹é€šã€/ã€ŒHDMI æ²’ç•«é¢ã€/ã€Œéº¥å…‹é¢¨ æ²’è²éŸ³ã€ã€‚`;
  addMsg("bot", text);
}

function initQuickButtons() {
  quickBtnsEl.innerHTML = "";
  QUICK.forEach(item => {
    const b = document.createElement("button");
    b.className = "btn";
    b.textContent = item.label;
    b.onclick = () => {
      addMsg("user", item.label);
      botReplyByKey(item.key);
    };
    quickBtnsEl.appendChild(b);
  });
}

function resetChat() {
  chatEl.innerHTML = "";
  addMsg("bot", ANSWERS.welcome);
}

sendBtn.onclick = () => {
  const text = inputEl.value.trim();
  if (!text) return;
  addMsg("user", text);
  inputEl.value = "";
  const key = detectAnswer(text);
  if (key) botReplyByKey(key);
  else botReplyByKey("unknown");
};

inputEl.addEventListener("keydown", (e) => {
  if (e.key === "Enter") sendBtn.click();
});

resetBtn.onclick = resetChat;

initQuickButtons();
resetChat();
</script>
</body>
</html>
